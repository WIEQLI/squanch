

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting Started &mdash; SQUANCH 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Demonstrations" href="demos.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> SQUANCH
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-basics-of-squanch">The basics of SQUANCH</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-your-first-simulation">Running your first simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introduction-to-quantum-streams">Introduction to quantum streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-simulation-with-qstreams">A simulation with QStreams</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-agents-in-your-simulations">Using agents in your simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demonstrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">SQUANCH API reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SQUANCH</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Getting Started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/getting-started.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>SQUANCH is programmed in Python 3 and NumPy. You can obtain both of these, along with a host of other scientific computing tools, from the <a class="reference external" href="https://www.continuum.io/downloads">Anaconda</a> package. Deprecated Python 2-compatible versions of SQUANCH are available in the Github repository commit history.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>You can install SQUANCH directly using the Python package manager pip:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">squanch</span>
</pre></div>
</div>
<p>If you don’t have pip, you can get it using <code class="docutils literal notranslate"><span class="pre">easy_install</span> <span class="pre">pip</span></code>.</p>
</div>
<div class="section" id="the-basics-of-squanch">
<h2>The basics of SQUANCH<a class="headerlink" href="#the-basics-of-squanch" title="Permalink to this headline">¶</a></h2>
<p>Before we can run our first simulation, we’ll need to introduce the notions of a <code class="docutils literal notranslate"><span class="pre">QSystem</span></code> and <code class="docutils literal notranslate"><span class="pre">Qubit</span></code>. A <code class="docutils literal notranslate"><span class="pre">QSystem</span></code> is the fundamental unit of quantum information in SQUANCH, and maintains the quantum state of a multi-particle, maximally-entangleable system. A <code class="docutils literal notranslate"><span class="pre">QSystem</span></code> also contains references to the <code class="docutils literal notranslate"><span class="pre">Qubit</span></code> s that comprise it, which allows you to work with them in a more intuitive manner. To manipulate qubits and quantum systems, we use quantum gates. Let’s play around with these concepts for a moment.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">squanch</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Prepare a two-qubit system, which defaults to the |00&gt; state</span>
<span class="n">qsys</span> <span class="o">=</span> <span class="n">QSystem</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>The state of a quantum system is tracked as a complex-valued density matrix in the computational basis:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qsys</span><span class="o">.</span><span class="n">state</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">1.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">complex64</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">QSystem</span></code> s also have a generator to yield their consistuent qubits. Note that this isn’t the same as a list, as the qubits are instantiated only when they are asked for, not upon instantiation of the QSystem. (This saves on overhead, especially in cases when only one qubit in a system of many needs to be modified.)</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qsys</span><span class="o">.</span><span class="n">qubits</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="o">&lt;</span><span class="n">genexpr</span><span class="o">&gt;</span> <span class="n">at</span> <span class="mh">0x107000460</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>A possible point of confusion: since <code class="docutils literal notranslate"><span class="pre">qubits</span></code> is a generator object, you can only loop through the qubits of a given qsystem once (for a given agent – more on that below)! (If you need to access them multiple times, consider converting them to a list with <code class="docutils literal notranslate"><span class="pre">qubits</span> <span class="pre">=</span> <span class="pre">list(qsys.qubits)</span></code>.)</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qsys2</span> <span class="o">=</span> <span class="n">QSystem</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loop &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">qubit</span> <span class="ow">in</span> <span class="n">qsys2</span><span class="o">.</span><span class="n">qubits</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">qubit</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Loop</span> <span class="mi">0</span>
<span class="o">&lt;</span><span class="n">squanch</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">Qubit</span> <span class="n">instance</span> <span class="n">at</span> <span class="mh">0x10d7d3828</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">squanch</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">Qubit</span> <span class="n">instance</span> <span class="n">at</span> <span class="mh">0x10d7d3908</span><span class="o">&gt;</span>
<span class="n">Loop</span> <span class="mi">1</span>
<span class="n">Loop</span> <span class="mi">2</span>
</pre></div>
</div>
<p>You can access and work with the qubits of a system either by pattern matching them:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">qsys</span><span class="o">.</span><span class="n">qubits</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">squanch</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">Qubit</span> <span class="n">instance</span> <span class="n">at</span> <span class="mh">0x10d540ea8</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>or by requesting a specific qubit directly:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a2</span> <span class="o">=</span> <span class="n">qsys</span><span class="o">.</span><span class="n">qubit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">squanch</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">Qubit</span> <span class="n">instance</span> <span class="n">at</span> <span class="mh">0x10d533878</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Even though <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">a2</span></code> are separate objects in memory, they both represent the same qubit and will manipulate the same parent <code class="docutils literal notranslate"><span class="pre">QSystem</span></code>, which can be referenced using <code class="docutils literal notranslate"><span class="pre">a.qsystem</span></code>:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">qsystem</span>
<span class="o">&lt;</span><span class="n">squanch</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">QSystem</span> <span class="n">instance</span> <span class="n">at</span> <span class="mh">0x107cfc3b0</span><span class="o">&gt;</span>

<span class="n">a2</span><span class="o">.</span><span class="n">qsystem</span>
<span class="o">&lt;</span><span class="n">squanch</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">QSystem</span> <span class="n">instance</span> <span class="n">at</span> <span class="mh">0x107cfc3b0</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For example, applying a Hadamard transformation to each of them yields the expected results:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">H</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">qsys</span><span class="o">.</span><span class="n">state</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">0.5</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.5</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.5</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.5</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">complex64</span><span class="p">)</span>
</pre></div>
</div>
<p>And applying the same (self-adjoint) transformation to <code class="docutils literal notranslate"><span class="pre">a2</span></code> gives the original <span class="math notranslate">\(\lvert 00 \rangle\)</span> state (ignoring machine errors):</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">H</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
<span class="n">qsys</span><span class="o">.</span><span class="n">state</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span>  <span class="mf">1.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
       <span class="p">[</span>  <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
       <span class="p">[</span> <span class="o">-</span><span class="mf">2.23711427e-17</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
       <span class="p">[</span>  <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>   <span class="mf">0.00000000e+00</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">complex64</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="running-your-first-simulation">
<h2>Running your first simulation<a class="headerlink" href="#running-your-first-simulation" title="Permalink to this headline">¶</a></h2>
<p>Now that we’ve introduced the basics of working with quantum states in SQUANCH, let’s start with a simple demonstration that can demonstrate some of the most basic capabilities of SQUANCH. We’ll just prepare an ensemble of Bell pairs in the state <span class="math notranslate">\(\lvert q_1 q_2 \rangle = \frac{1}{\sqrt{2}} \left (\lvert 00 \rangle + \lvert 11 \rangle \right )\)</span> and verify that they all collapse to the same states. For this example, all we’ll need are the <a class="reference internal" href="api/qubit.html#qubit"><span class="std std-ref">qubit</span></a> and <a class="reference internal" href="api/gates.html#gates"><span class="std std-ref">gates</span></a> modules. We’ll create a new two-particle quantum system in each iteration of the loop, and then apply H and CNOT operators to the system’s qubits to make the Bell pair.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">squanch</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">results</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># Where we&#39;ll put the measurement results</span>

<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">qsys</span> <span class="o">=</span> <span class="n">QSystem</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">qsys</span><span class="o">.</span><span class="n">qubits</span> <span class="c1"># enumerate the qubits of the system</span>
    <span class="c1"># Make a Bell pair</span>
    <span class="n">H</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">CNOT</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="c1"># Measure the pair and append to results</span>
    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">a</span><span class="o">.</span><span class="n">measure</span><span class="p">(),</span> <span class="n">b</span><span class="o">.</span><span class="n">measure</span><span class="p">()])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
<p>Running the whole program, we obtain:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="section" id="introduction-to-quantum-streams">
<h2>Introduction to quantum streams<a class="headerlink" href="#introduction-to-quantum-streams" title="Permalink to this headline">¶</a></h2>
<p>One of the more unique concepts to SQUANCH comapred to other quantum simulation frameworks is the notion of a “quantum stream”, or <a class="reference internal" href="api/qstream.html#qstream"><span class="std std-ref">QStream</span></a>. This is the quantum analogue of a classical bitstream; a collection of disjoint (non-entangled) quantum systems. As before, let’s play around with these.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">squanch</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Prepare a stream of 3 two-qubit systems</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">QStream</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>The state of a <code class="docutils literal notranslate"><span class="pre">QStream</span></code> is just an array of density matrices, each element of which can be used to instantiate a <code class="docutils literal notranslate"><span class="pre">QSystem</span></code>:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stream</span><span class="o">.</span><span class="n">state</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span> <span class="mf">1.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">]],</span>

       <span class="p">[[</span> <span class="mf">1.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">]],</span>

       <span class="p">[[</span> <span class="mf">1.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">complex64</span><span class="p">)</span>
</pre></div>
</div>
<p>You can pull specific systems from a stream an manipulate them. For example, let’s apply H to the second qubit of the third system in the stream:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">first_system</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">H</span><span class="p">(</span><span class="n">first_system</span><span class="o">.</span><span class="n">qubit</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span> <span class="mf">1.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">]],</span>

       <span class="p">[[</span> <span class="mf">1.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">]],</span>

       <span class="p">[[</span> <span class="mf">0.5</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.5</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.5</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.5</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">0.0</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">complex64</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also iterate over the systems in a stream:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">qsys</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">qsys</span><span class="o">.</span><span class="n">qubits</span>
    <span class="nb">print</span><span class="p">([</span><span class="n">a</span><span class="o">.</span><span class="n">measure</span><span class="p">(),</span> <span class="n">b</span><span class="o">.</span><span class="n">measure</span><span class="p">()])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Using QStreams has a number of advantages: it reduces instantiation overhead, it allows <a class="reference internal" href="api/agent.html#agent"><span class="std std-ref">Agents</span></a> (which we’ll talk about in a bit) to manipulate the same quantum states, and it can vastly increase performance by providing good cache locality. Typical sequential operations operating in a single thread will usually see a performance gain of about 2x, but for simulations involving a large number of Agents in separate processes working on qubits in varying positions in the stream, you may see much larger performance gains.</p>
</div>
<div class="section" id="a-simulation-with-qstreams">
<h2>A simulation with QStreams<a class="headerlink" href="#a-simulation-with-qstreams" title="Permalink to this headline">¶</a></h2>
<p>Here’s a brief demonstration of how to use QStreams in your programs and an example of performance speedups.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">squanch</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">num_systems</span> <span class="o">=</span> <span class="mi">100000</span>

<span class="c1"># Without streams: make a bunch of Bell pairs</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_systems</span><span class="p">):</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">QSystem</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">qubits</span>
    <span class="n">H</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">CNOT</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating </span><span class="si">{}</span><span class="s2"> bell pairs without streams: </span><span class="si">{:.3f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_systems</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>

<span class="c1"># With a stream: make a bunch of Bell pairs</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">QStream</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">num_systems</span><span class="p">)</span>
<span class="k">for</span> <span class="n">qsys</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">qsys</span><span class="o">.</span><span class="n">qubits</span>
    <span class="n">H</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">CNOT</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating </span><span class="si">{}</span><span class="s2"> bell pairs with streams:    </span><span class="si">{:.3f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_systems</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Creating</span> <span class="mi">100000</span> <span class="n">bell</span> <span class="n">pairs</span> <span class="n">without</span> <span class="n">streams</span><span class="p">:</span> <span class="mf">5.564</span><span class="n">s</span>
<span class="n">Creating</span> <span class="mi">100000</span> <span class="n">bell</span> <span class="n">pairs</span> <span class="k">with</span> <span class="n">streams</span><span class="p">:</span>    <span class="mf">2.355</span><span class="n">s</span>
</pre></div>
</div>
</div>
<div class="section" id="using-agents-in-your-simulations">
<h2>Using agents in your simulations<a class="headerlink" href="#using-agents-in-your-simulations" title="Permalink to this headline">¶</a></h2>
<p>So far, we’ve touched on features that mostly have analogues in other quantum computing frameworks. However, SQUANCH is a quantum <em>networking</em> simulator, designed specifically for easily and concurrently simulating multiple agents which manipulate and transfer quantum inforamtion between each other.</p>
<p>An <a class="reference internal" href="api/agent.html#agent"><span class="std std-ref">Agent</span></a> generalizes the notion of a quantum-classical “actor”. Agents are programmed by extending the base Agent class to contain the runtime logic in the <code class="docutils literal notranslate"><span class="pre">run()</span></code> function. In simulations, Agents run in separate processes, so it is necessary to explicitly pass in input and output structures, including the shared Hilbert space the Agents act on, and a multiprocessed return dictionary for outputting data from runtime. Both of these are included in the <a class="reference internal" href="api/agent.html#agent"><span class="std std-ref">Agents</span></a> module.</p>
<p>Here’s a demonstration of a simple message tranmsision protocol using qubits as classical bits. There will be two agents, Alice and Bob; Alice will have a message encoded as a bitstream, which she will use to act on her qubits that she will send to Bob, who will reconstruct the original message. Let’s start with the preliminary imports and string to bitstream conversion functions:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">squanch</span> <span class="k">import</span> <span class="o">*</span>

<span class="k">def</span> <span class="nf">string_to_bits</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
    <span class="c1"># Return a string of 0&#39;s and 1&#39;s from a message</span>
    <span class="n">bits</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">msg</span><span class="p">:</span> <span class="n">bits</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{:08b}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">bits</span>

<span class="k">def</span> <span class="nf">bits_to_string</span><span class="p">(</span><span class="n">bits</span><span class="p">):</span>
    <span class="c1"># Return a message from a binary string</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">bits</span><span class="p">),</span> <span class="mi">8</span><span class="p">):</span>
        <span class="n">digits</span> <span class="o">=</span> <span class="n">bits</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="mi">8</span><span class="p">]</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="nb">chr</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">digits</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">msg</span>

<span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Hello, Bob!&quot;</span>
<span class="n">bits</span> <span class="o">=</span> <span class="n">string_to_bits</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
<p>To program the agents themselves, we extend the Agent base class and overwrite the <code class="docutils literal notranslate"><span class="pre">run()</span></code> function:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Alice</span><span class="p">(</span><span class="n">Agent</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">qsys</span><span class="p">,</span> <span class="n">bit</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">):</span>
            <span class="n">q</span><span class="p">,</span> <span class="o">=</span> <span class="n">qsys</span><span class="o">.</span><span class="n">qubits</span>
            <span class="k">if</span> <span class="n">bit</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span> <span class="n">X</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">qsend</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Bob</span><span class="p">(</span><span class="n">Agent</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">bits</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">:</span>
            <span class="n">q</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">qrecv</span><span class="p">(</span><span class="n">alice</span><span class="p">)</span>
            <span class="n">bits</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">measure</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">bits</span><span class="p">)</span>
</pre></div>
</div>
<p>To instantiate and run the agents, we need to allocate memory for <cite>QStream</cite> using <cite>Agent.shared_hilbert_space</cite> and a shared output dictionary with <cite>Agent.shared_output</cite>. Explicitly allocating and passing memory and output dictionaries to agents is necessary because each agent runs in its own separate process, which (generally) have separate memory pools. (See <a class="reference internal" href="api/agent.html#agent"><span class="std std-ref">Agent</span></a> API for more details.)  We then connect the agents with a quantum channel:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mem</span> <span class="o">=</span> <span class="n">Agent</span><span class="o">.</span><span class="n">shared_hilbert_space</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">msgBits</span><span class="p">))</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">Agent</span><span class="o">.</span><span class="n">shared_output</span><span class="p">()</span>

<span class="n">alice</span> <span class="o">=</span> <span class="n">Alice</span><span class="p">(</span><span class="n">mem</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">bits</span><span class="p">)</span>
<span class="n">bob</span> <span class="o">=</span> <span class="n">Bob</span><span class="p">(</span><span class="n">mem</span><span class="p">,</span> <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="p">)</span>

<span class="n">alice</span><span class="o">.</span><span class="n">qconnect</span><span class="p">(</span><span class="n">bob</span><span class="p">)</span>
</pre></div>
</div>
<p>Running the agents has the same syntax as running a <cite>Process</cite> in Python. <cite>alice.start()</cite> starts Alice’s runtime logic, and <cite>alice.join()</cite> waits for all other agents to finish executing:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alice</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">bob</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="n">alice</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">bob</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="n">received_msg</span> <span class="o">=</span> <span class="n">bits_to_string</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s2">&quot;Bob&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Alice sent: &#39;</span><span class="si">{}</span><span class="s2">&#39;. Bob received: &#39;</span><span class="si">{}</span><span class="s2">&#39;.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">received_msg</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Alice</span> <span class="n">sent</span><span class="p">:</span> <span class="s1">&#39;Hello, Bob!&#39;</span><span class="o">.</span> <span class="n">Bob</span> <span class="n">received</span><span class="p">:</span> <span class="s1">&#39;Hello, Bob!&#39;</span><span class="o">.</span>
</pre></div>
</div>
<p>Alternately, SQUANCH also includes a <cite>Simulation</cite> module which can track the progress of each agent as they execute their code and display a progress bar in a terminal or Jupyter notebook:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Simulation</span><span class="p">(</span><span class="n">alice</span><span class="p">,</span> <span class="n">bob</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="n">received_msg</span> <span class="o">=</span> <span class="n">bits_to_string</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s2">&quot;Bob&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Alice sent: &#39;</span><span class="si">{}</span><span class="s2">&#39;. Bob received: &#39;</span><span class="si">{}</span><span class="s2">&#39;.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">received_msg</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Alice</span> <span class="n">sent</span><span class="p">:</span> <span class="s1">&#39;Hello, Bob!&#39;</span><span class="o">.</span> <span class="n">Bob</span> <span class="n">received</span><span class="p">:</span> <span class="s1">&#39;Hello, Bob!&#39;</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p>This tutorial page only touches on some of the basic uses of SQUANCH. For demonstrations of more complex scenarios, see the <a class="reference internal" href="demos.html#demos"><span class="std std-ref">demonstrations section</span></a>, and for an overview of SQUANCH’s core concepts and organization, see the <a class="reference internal" href="overview.html#overview"><span class="std std-ref">overview section</span></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="demos.html" class="btn btn-neutral float-right" title="Demonstrations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, AT&amp;T.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>